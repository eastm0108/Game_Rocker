(function(t){function a(a){for(var s,o,n=a[0],c=a[1],l=a[2],d=0,u=[];d<n.length;d++)o=n[d],i[o]&&u.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(a);while(u.length)u.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,o=1;o<e.length;o++){var n=e[o];0!==i[n]&&(s=!1)}s&&(r.splice(a--,1),t=c(c.s=e[0]))}return t}var s={},o={app:0},i={app:0},r=[];function n(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-6e2b84de":"4c8b9eed"}[t]+".js"}function c(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(t){var a=[],e={"chunk-6e2b84de":1};o[t]?a.push(o[t]):0!==o[t]&&e[t]&&a.push(o[t]=new Promise(function(a,e){for(var s="css/"+({}[t]||t)+"."+{"chunk-6e2b84de":"d4cda23f"}[t]+".css",o=c.p+s,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var n=i[r],l=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(l===s||l===o))return a()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){n=d[r],l=n.getAttribute("data-href");if(l===s||l===o)return a()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=a,u.onerror=function(a){var s=a&&a.target&&a.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");i.request=s,e(i)},u.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(u)}).then(function(){o[t]=0}));var s=i[t];if(0!==s)if(s)a.push(s[2]);else{var r=new Promise(function(a,e){s=i[t]=[a,e]});a.push(s[2]=r);var l,d=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=n(t),l=function(a){u.onerror=u.onload=null,clearTimeout(p);var e=i[t];if(0!==e){if(e){var s=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src,r=new Error("Loading chunk "+t+" failed.\n("+s+": "+o+")");r.type=s,r.request=o,e[1](r)}i[t]=void 0}};var p=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,d.appendChild(u)}return Promise.all(a)},c.m=t,c.c=s,c.d=function(t,a,e){c.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,a){if(1&a&&(t=c(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)c.d(e,s,function(a){return t[a]}.bind(null,s));return e},c.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(a,"a",a),a},c.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},c.p="/Game_Rocker/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=a,l=l.slice();for(var u=0;u<l.length;u++)a(l[u]);var p=d;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"4a2f":function(t,a,e){"use strict";var s=e("dfbe"),o=e.n(s);o.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("097d");var s=e("2b0e"),o=e("2f62"),i=e("bc3a"),r=e.n(i),n=e("a7fe"),c=e.n(n),l=e("9062"),d=e.n(l),u=(e("e40d"),e("4989"),e("427f")),p=e.n(u),m=e("7bb1"),v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},h=[],g={name:"App"},f=g,_=(e("5c0b"),e("2877")),C=Object(_["a"])(f,v,h,!1,null,null,null);C.options.__file="App.vue";var b=C.exports,x=e("8c4f"),y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Navbar"),e("Alert"),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("main",{staticClass:"col-md-12 ml-sm-auto  px-4",attrs:{role:"main"}},[e("router-view")],1)])])],1)},w=[],$=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark container-fluid px-0"},[t._m(0),e("button",{staticClass:"navbar-toggler ml-auto mt-3 mr-1",class:{"active-burger-bar":t.togglerBar},attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:t.togglerBurgerBar}},[e("div",{staticClass:"burger-bar"}),e("div",{staticClass:"burger-bar"}),e("div",{staticClass:"burger-bar"})]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[e("div",{staticClass:"navbar-nav ml-auto"},[e("router-link",{staticClass:"nav-item nav-link text-white pt-4 pb-2 h6 ml-3 font-weight-bold",attrs:{to:"/admin/products"}},[e("i",{staticClass:"fas fa-sitemap"}),t._v(" 產品管理\n          "),e("span",{staticClass:"sr-only"},[t._v("(product)")])]),e("router-link",{staticClass:"nav-item nav-link text-white pt-4 pb-2 h6 ml-3 font-weight-bold",attrs:{to:"/admin/orders"}},[e("i",{staticClass:"fas fa-clipboard-list"}),t._v(" 訂單管理\n          "),e("span",{staticClass:"sr-only"},[t._v("(orders)")])]),e("router-link",{staticClass:"nav-item nav-link text-white pt-4 pb-2 h6 ml-3 font-weight-bold",attrs:{to:"/admin/coupons"}},[e("i",{staticClass:"fas fa-ticket-alt"}),t._v(" 優惠券\n          "),e("span",{staticClass:"sr-only"},[t._v("(coupons)")])]),e("router-link",{staticClass:"nav-item nav-link text-white pt-4 pb-2 h6 ml-3 font-weight-bold",attrs:{to:"/admin/test_order"}},[e("i",{staticClass:"fas fa-shopping-cart"}),t._v(" 模擬訂單\n          "),e("span",{staticClass:"sr-only"},[t._v("(Simulated order)")])]),e("a",{staticClass:"nav-item nav-link text-white pt-4 pb-2 h6 ml-3 font-weight-bold",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[t._v("管理者登出\n          "),e("span",{staticClass:"sr-only"},[t._v("(Manager logout)")])])],1)])])])},k=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"navbar-brand navbar-logo"},[s("img",{attrs:{src:e("f28d"),alt:"Logo"}})])}],P={name:"Navbar",data:function(){return{togglerBar:!1}},methods:{signout:function(){var t="".concat("https://vue-course-api.hexschool.io","/logout"),a=this;this.$http.post(t).then(function(t){console.log(t.data),t.data.success&&a.$router.push("/login")})},togglerBurgerBar:function(){var t=this;t.togglerBar=!t.togglerBar}}},L=P,N=Object(_["a"])(L,$,k,!1,null,null,null);N.options.__file="Navbar.vue";var E=N.exports,O=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v("\n    "+t._s(a.message)+"\n    "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}))},M=[],I=(e("ac6a"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout(function(){a.messages.forEach(function(e,s){e.timestamp===t&&a.messages.splice(s,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("messsage:push",function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)})}}),A=I,B=(e("4a2f"),Object(_["a"])(A,O,M,!1,null,null,null));B.options.__file="AlertMessage.vue";var T=B.exports,D={components:{Navbar:E,Alert:T}},j=D,S=Object(_["a"])(j,y,w,!1,null,null,null);S.options.__file="Dashboard.vue";var q=S.exports,R=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"text-right mt-4"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){t.openModel(!0)}}},[t._v("建立新產品")])]),e("table",{staticClass:" mt-4 table tableStyle"},[t._m(0),e("tbody",t._l(t.products,function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.category))]),e("td",[t._v(t._s(a.title))]),e("td",{staticClass:"text-right"},[t._v("\n            "+t._s(t._f("currency")(a.origin_price))+"\n          ")]),e("td",{staticClass:"text-right"},[t._v("\n            "+t._s(t._f("currency")(a.price))+"\n            ")]),e("td",[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",[e("div",{staticClass:"btn-group mr-2",attrs:{role:"group","aria-label":"First group"}},[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){t.openModel(!1,a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){t.openDelModel(a)}}},[t._v("刪除")])])])])}))]),e("Pagination",{attrs:{pages:t.pagination},on:{emitPages:t.getProducts}}),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"imageUrl",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片\n                    "),t.status.fileUploading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),e("img",{staticClass:"img-fluid",attrs:{img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",src:t.tempProduct.imageUrl,alt:""}})]),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"title",a.target.value)}}})]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"category",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"unit",a.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"origin_price",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"price",a.target.value)}}})])]),e("hr"),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"description",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"content",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(a){var e=t.tempProduct.is_enabled,s=a.target,o=s.checked?1:0;if(Array.isArray(e)){var i=null,r=t._i(e,i);s.checked?r<0&&t.$set(t.tempProduct,"is_enabled",e.concat([i])):r>-1&&t.$set(t.tempProduct,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.tempProduct,"is_enabled",o)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                      是否啟用\n                    ")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),e("div",{staticClass:"modal-body"},[t._v("\n            是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。\n          ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteProduct}},[t._v("確認刪除\n            ")])])])])])],1)},U=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{width:"120"}},[t._v("分類")]),e("th",[t._v("產品名稱")]),e("th",{attrs:{width:"120"}},[t._v("原價")]),e("th",{attrs:{width:"120"}},[t._v("售價")]),e("th",{attrs:{width:"100"}},[t._v("是否啟用")]),e("th",{attrs:{width:"80"}},[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("新增產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("刪除產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],F=(e("f751"),e("1157")),G=e.n(F),W=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){a.preventDefault(),t.updatePage(t.pages.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),e("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.pages.total_pages,function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pages.current_page==a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.updatePage(a)}}},[t._v(t._s(a))])])}),e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){a.preventDefault(),t.updatePage(t.pages.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),e("span",{staticClass:"sr-only"},[t._v("Next")])])])],2)])},z=[],V={name:"Layout",props:["pages"],data:function(){return{msg:"Welcome to Your Vue.js App",uid:""}},methods:{updatePage:function(t){this.$emit("emitPages",t)}}},H=V,J=Object(_["a"])(H,W,z,!1,null,null,null);J.options.__file="Pagination.vue";var X=J.exports,K={data:function(){return{products:[],pagination:{},tempProduct:{},isNew:!1,PreDeleteProduct:{},status:{fileUploading:!1}}},components:{Pagination:X},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="\n      ".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/products?page=").concat(t,"\n      "),e=this;e.$store.dispatch("updateLoading",!0),this.$http.get(a).then(function(t){t.data.success?(e.$store.dispatch("updateLoading",!1),e.products=t.data.products,e.pagination=t.data.pagination):(e.$store.dispatch("updateLoading",!1),alert("請登出，重新登入系統"))})},openModel:function(t,a){t?(this.tempProduct={},this.isNew=!0):(this.tempProduct=Object.assign({},a),this.isNew=!1),G()("#productModal").modal("show")},updateProduct:function(){var t="\n      ".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/product\n      "),a="post",e=this;e.isNew||(t="\n        ".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/product/").concat(e.tempProduct.id,"\n        "),a="put"),this.$http[a](t,{data:e.tempProduct}).then(function(t){t.data.success,G()("#productModal").modal("hide"),e.getProducts()})},openDelModel:function(t){G()("#delProductModal").modal("show"),this.PreDeleteProduct=Object.assign({},t)},deleteProduct:function(){var t=this,a="\n      ".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/product/").concat(t.PreDeleteProduct.id,"\n      ");this.$http.delete(a).then(function(a){a.data.success,t.getProducts(),G()("#delProductModal").modal("hide"),t.PreDeleteProduct={}})},uploadFile:function(){var t=this,a=this.$refs.files.files[0],e=this,s=new FormData;s.append("file-to-upload",a);var o="\n      ".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/upload\n      ");e.status.fileUploading=!0,this.$http.post(o,s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){e.status.fileUploading=!1,a.data.success?e.$set(e.tempProduct,"imageUrl",a.data.imageUrl):t.$bus.$emit("messsage:push",a.data.message,"danger")})}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.getProducts()}},Q=K,Y=Object(_["a"])(Q,R,U,!1,null,null,null);Y.options.__file="Products.vue";var Z=Y.exports,tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"text-right mt-4"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){t.openModel(!0)}}},[t._v("建立優惠券")])]),e("table",{staticClass:"table mt-4 tableStyle"},[t._m(0),e("tbody",t._l(t.coupons,function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.title))]),e("td",{staticClass:"text-right"},[t._v("\n            "+t._s(a.percent+" %")+"\n          ")]),e("td",[t._v(t._s(a.due_date))]),e("td",[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",[e("div",{staticClass:"btn-group mr-2",attrs:{role:"group","aria-label":"First group"}},[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){t.openModel(!1,a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){t.openDelModel(a)}}},[t._v("刪除")])])])])}))]),e("Pagination",{attrs:{pages:t.pagination},on:{emitPages:t.getCoupons}}),e("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入名稱"},domProps:{value:t.tempCoupon.title},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("優惠碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"number",id:"title",placeholder:"請輸入優惠碼"},domProps:{value:t.tempCoupon.code},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"code",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("到期日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.due_date,expression:"tempCoupon.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"title",placeholder:"請輸入日期"},domProps:{value:t.tempCoupon.due_date},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"due_date",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("折扣百分比")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"title",placeholder:"請輸入折扣百分比"},domProps:{value:t.tempCoupon.percent},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"percent",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(a){var e=t.tempCoupon.is_enabled,s=a.target,o=s.checked?1:0;if(Array.isArray(e)){var i=null,r=t._i(e,i);s.checked?r<0&&t.$set(t.tempCoupon,"is_enabled",e.concat([i])):r>-1&&t.$set(t.tempCoupon,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.tempCoupon,"is_enabled",o)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                      是否啟用\n                    ")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updatecoupon}},[t._v("確認")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"delCouponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),e("div",{staticClass:"modal-body"},[t._v("\n            是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupon.title))]),t._v(" 優惠劵(刪除後將無法恢復)。\n          ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteCoupon}},[t._v("確認刪除\n            ")])])])])])],1)},at=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("名稱")]),e("th",{attrs:{width:"120"}},[t._v("折扣百分比")]),e("th",{attrs:{width:"120"}},[t._v("到期日")]),e("th",{attrs:{width:"100"}},[t._v("是否啟用")]),e("th",{attrs:{width:"80"}},[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("優惠券")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("刪除優惠劵")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],et={data:function(){return{coupons:[],pagination:{},tempCoupon:{},isNew:!1,PreDeleteCoupon:{},status:{fileUploading:!1}}},components:{Pagination:X},methods:{getCoupons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/coupons?page=").concat(t),e=this;e.$store.dispatch("updateLoading",!0),this.$http.get(a).then(function(t){t.data.success?(console.log(t.data),e.$store.dispatch("updateLoading",!1),e.coupons=t.data.coupons,e.pagination=t.data.pagination):(e.$store.dispatch("updateLoading",!1),alert("請登出，重新登入系統"))})},openModel:function(t,a){t?(this.tempCoupon={},this.isNew=!0):(this.tempCoupon=Object.assign({},a),this.isNew=!1),G()("#couponModal").modal("show")},updatecoupon:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/coupon"),a="post",e=this;e.isNew||(t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/coupon/").concat(e.tempCoupon.id),a="put"),this.$http[a](t,{data:e.tempCoupon}).then(function(t){console.log(t.data),t.data.success?(G()("#couponModal").modal("hide"),e.getCoupons()):(G()("#couponModal").modal("hide"),e.getCoupons(),console.log("新增失敗"))})},openDelModel:function(t){G()("#delCouponModal").modal("show"),this.PreDeleteCoupon=Object.assign({},t)},deleteCoupon:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/coupon/").concat(t.PreDeleteCoupon.id);console.log(this.PreDeleteCoupon),this.$http.delete(a).then(function(a){console.log(a.data),a.data.success?(t.getCoupons(),G()("#delCouponModal").modal("hide"),console.log("已刪除產品")):(t.getCoupons(),G()("#delCouponModal").modal("hide"),console.log("找不到產品")),t.PreDeleteCoupon={}})},uploadFile:function(){var t=this,a=this.$refs.files.files[0],e=this,s=new FormData;s.append("file-to-upload",a);var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/upload");e.status.fileUploading=!0,this.$http.post(o,s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){console.log(a.data),e.status.fileUploading=!1,a.data.success?e.$set(e.tempCoupon,"imageUrl",a.data.imageUrl):t.$bus.$emit("messsage:push",a.data.message,"danger")})}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.getCoupons()}},st=et,ot=Object(_["a"])(st,tt,at,!1,null,null,null);ot.options.__file="Coupons.vue";var it=ot.exports,rt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("table",{staticClass:"table mt-4 tableStyle"},[t._m(0),t.orders.length?e("tbody",t._l(t.sortOrder,function(a,s){return e("tr",{key:s,class:{"text-secondary":!a.is_paid}},[e("td",[t._v(t._s(t._f("date")(a.create_at)))]),e("td",[a.user?e("span",{domProps:{textContent:t._s(a.user.email)}}):t._e()]),e("td",[e("ul",{staticClass:"list-unstyled"},t._l(a.products,function(a,s){return e("li",{key:s},[t._v("\n              "+t._s(a.product.title)+" 數量："+t._s(a.qty)+"\n              "+t._s(a.product.unit)+"\n            ")])}))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.total)))]),e("td",[a.is_paid?e("strong",{staticClass:"text-success"},[t._v(" 已付款 ")]):e("span",{staticClass:"text-muted"},[t._v(" 未付款 ")])])])})):t._e()]),e("Pagination",{attrs:{pages:t.pagination},on:{emitPages:t.getOrders}})],1)},nt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v(" 購買時間 ")]),e("th",[t._v("Email")]),e("th",[t._v(" 購買款項 ")]),e("th",[t._v(" 應付金額 ")]),e("th",[t._v(" 是否付款 ")])])])}],ct=(e("55dd"),{data:function(){return{orders:{},isNew:!1,pagination:{}}},components:{Pagination:X},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/admin/orders?page=").concat(t);a.$store.dispatch("updateLoading",!0),this.$http.get(e,a.tempProduct).then(function(t){t.data.success?(a.orders=t.data.orders,a.pagination=t.data.pagination,a.$store.dispatch("updateLoading",!1),console.log(t)):(a.$store.dispatch("updateLoading",!1),alert("請登出，重新登入系統"))})}},computed:{sortOrder:function(){var t=this,a=[];return t.orders.length&&(a=t.orders.sort(function(t,a){var e=t.is_paid?1:0,s=a.is_paid?1:0;return s-e})),a},isLoading:function(){return this.$store.state.isLoading}},created:function(){this.getOrders(),console.log("https://vue-course-api.hexschool.io")}}),lt=ct,dt=Object(_["a"])(lt,rt,nt,!1,null,null,null);dt.options.__file="Orders.vue";var ut=dt.exports,pt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"row mt-4"},t._l(t.products,function(a){return e("div",{key:a.id,staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"card border-0 shadow-sm"},[e("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),e("h5",{staticClass:"card-title"},[e("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])]),e("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price?t._e():e("div",{staticClass:"h5"},[t._v(t._s(a.origin_price)+" 元 ")]),a.price?e("del",{staticClass:"h6"},[t._v(" 原價 "+t._s(a.origin_price)+" 元 ")]):t._e(),a.price?e("div",{staticClass:"h5"},[t._v(" 現在只要 "+t._s(a.price)+" 元 ")]):t._e()])]),e("div",{staticClass:"card-footer d-flex"},[e("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(e){t.getProduct(a.id)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            查看更多\n          ")]),e("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(e){t.addtoCart(a.id)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            加到購物車\n          ")])])])])})),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.product.title))]),t._m(0)]),e("div",{staticClass:"modal-body"},[e("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl,alt:""}}),e("blockquote",{staticClass:"blockquote mt-3"},[e("p",{staticClass:"mb-0"},[t._v(t._s(t.product.content))]),e("footer",{staticClass:"blockquote-footer text-right"},[t._v(t._s(t.product.description))])]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():e("div",{staticClass:"h4"},[t._v(t._s(t.product.origin_price)+" 元 ")]),t.product.price?e("del",{staticClass:"h6"},[t._v(" 原價 "+t._s(t.product.origin_price)+" 元 ")]):t._e(),t.product.price?e("div",{staticClass:"h4"},[t._v(" 現在只要 "+t._s(t.product.price)+" 元 ")]):t._e()]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.product,"num",a.target.multiple?e:e[0])}}},t._l(10,function(a){return e("option",{key:a,domProps:{value:a}},[t._v("\n              選購 "+t._s(a)+" "+t._s(t.product.unit)+"\n            ")])}))]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v("\n            小計 "),e("strong",[t._v(t._s(t.product.num*t.product.price))]),t._v(" 元\n          ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){t.addtoCart(t.product.id,t.product.num)}}},[t.product.id===t.status.loadingItem?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            加到購物車\n          ")])])])])]),e("div",{staticClass:"my-5 row justify-content-center"},[e("div",{staticClass:"my-5 row justify-content-center"},[e("table",{staticClass:"table"},[t._m(1),t.cart.carts?e("tbody",t._l(t.cart.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.removeCartItem(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",{staticClass:"align-middle"},[t._v("\n              "+t._s(a.product.title)+"\n              "),a.coupon?e("div",{staticClass:"text-success"},[t._v("\n                已套用優惠券\n              ")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})):t._e(),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v(" 總計 ")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v(" 折扣價 ")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])]),e("div",{staticClass:"input-group mb-3 input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:" 請輸入優惠碼 "},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("\n            套用優惠碼\n          ")])])]),e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-12",on:{submit:function(a){return a.preventDefault(),t.createOrder(a)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:" 請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t.errors.has("email")?e("span",{staticClass:"text-danger"},[t._v("\n              "+t._s(t.errors.first("email"))+"\n            ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v(" 收件人姓名 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:" 輸入姓名 "},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t.errors.has("name")?e("span",{staticClass:"text-danger"},[t._v(" 姓名必須輸入 ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v(" 收件人電話 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",required:"",placeholder:" 請輸入電話 "},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v(" 收件人地址 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:" 請輸入地址 "},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v(" 地址欄位不得留空 ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v(" 留言 ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),t._m(2)])])])])],1)},mt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th"),e("th",[t._v(" 品名 ")]),e("th",[t._v(" 數量 ")]),e("th",[t._v(" 單價 ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v(" 送出訂單 ")])])}],vt=e("be94"),ht={name:"TestOrder",data:function(){return{coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getProducts:function(){this.$store.dispatch("getProducts")},getProduct:function(t){this.$store.dispatch("getProduct",t)},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{id:t,qty:a})},getCart:function(){this.$store.dispatch("getCart")},removeCartItem:function(t){this.$store.dispatch("removeCartItem",t)},addCouponCode:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/coupon"),a=this,e={code:a.coupon_code};a.$store.dispatch("updateLoading",!0),this.$http.post(t,{data:e}).then(function(t){console.log(t),a.$store.dispatch("updateLoading",!1),a.getCart()})},createOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/order"),e=this,s=e.form;this.$validator.validate().then(function(o){o?t.$http.post(a,{data:s}).then(function(t){console.log("已建立訂單",t),t.data.success&&e.$router.push("/customer_checkout/".concat(t.data.orderId)),e.$store.dispatch("updateLoading",!1)}):console.log("欄位不完整")})}},computed:Object(vt["a"])({},Object(o["b"])(["isLoading","products","product","cart","cart_lenght","cartRemove","status"])),created:function(){this.getProducts(),this.getCart()}},gt=ht,ft=Object(_["a"])(gt,pt,mt,!1,null,null,null);ft.options.__file="TestOrder.vue";var _t=ft.exports,Ct=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(" 總計 ")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v(" 姓名 ")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v(" 收件人電話 ")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v(" 收件人地址 ")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v(" 付款狀態 ")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v(" 付款完成 ")]):e("span",[t._v(" 尚未付款 ")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v(" 確認付款去 ")])]):t._e()])])])},bt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v(" 品名 ")]),e("th",[t._v(" 數量 ")]),e("th",[t._v(" 單價 ")])])}],xt={data:function(){return{order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/order/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.get(a).then(function(a){t.order=a.data.order,console.log(a),t.$store.dispatch("updateLoading",!1)})},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/pay/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.post(a).then(function(a){console.log(a),a.data.success&&t.getOrder(),t.$store.dispatch("updateLoading",!1)})}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder(),console.log(this.orderId)}},yt=xt,wt=Object(_["a"])(yt,Ct,bt,!1,null,null,null);wt.options.__file="CustomerCheckout.vue";var $t=wt.exports,kt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:" bg-dark"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("CustomerNavbar"),e("Alert"),e("CustomerCarousel"),e("div",{staticClass:"container"},[e("div",{},[e("main",{staticClass:"container",attrs:{role:"main"}},[e("div",{staticClass:"text-cebter row"},[e("div",{staticClass:"col-md-3 text-center mb-2"},[e("router-link",{staticClass:"pulse-button",attrs:{to:"/categories"}},[t._v("\n              超強大作\n            ")])],1),e("div",{staticClass:"col-md-3 text-center mb-2"},[e("router-link",{staticClass:"pulse-button",attrs:{to:"/categories"}},[t._v("\n              經典商品\n            ")])],1),e("div",{staticClass:"col-md-3 text-center mb-2"},[e("router-link",{staticClass:"pulse-button",attrs:{to:"/categories"}},[t._v("\n              超值組合\n            ")])],1),e("div",{staticClass:"col-md-3 text-center mb-2"},[e("router-link",{staticClass:"pulse-button",attrs:{to:"/categories"}},[t._v("\n              熱門主機\n            ")])],1)]),e("p",{staticClass:"mt-4 line-1 anim-typewriter text-lakeblue"},[t._v("男孩的遊戲世界!")]),e("div",{staticClass:"row"},t._l(t.products,function(a){return e("div",{key:a.id,staticClass:"col-sm-6 col-xs-6 mr-0 mb-3"},[e("div",{staticClass:"list mb-2"},[e("div",{staticClass:"list-header"},[e("a",{staticClass:"list-header-image index-card-a",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.ProductData(a.id)}}},[e("img",{attrs:{src:a.imageUrl}})])]),e("div",{staticClass:"list-content"},[e("h2",[e("a",{staticClass:"text-dark index-card-a",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.ProductData(a.id)}}},[t._v("\n                    "+t._s(a.title)+"\n                  ")])]),e("span",{staticClass:"list-meta mb-1"},[e("div",{staticClass:"list-meta-item index-card-a text-danger h6"},[e("i",{staticClass:"fa fa-star"}),t._v("\n                    "+t._s(a.category)+"\n                  ")])]),e("p",{staticClass:"font-weight-bold h6 mb-2"},[t._v(t._s(a.content))]),e("div",{staticClass:"d-flex align-items-center"},[a.price?e("del",{staticClass:"h6 font-italic text-secondary"},[t._v(" 原價 "+t._s(a.origin_price)+" 元 ")]):t._e(),a.price?e("div",{staticClass:"h5 ml-auto text-success"},[t._v(" NT$ "+t._s(a.price)+" 元 ")]):t._e()]),e("div",{staticClass:"d-flex justify-content-around"},[0!==a.num?e("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(e){t.ProductData(a.id)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                    查看更多\n                  ")]):t._e(),0!==a.num?e("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(e){t.addtoCart(a.id)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                    加到購物車\n                  ")]):t._e()])])])])}))])])]),e("hr",{staticClass:"stars"}),e("footer",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(0),t._m(1),e("div",{staticClass:"col-md-4 mb-3"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("作者：EastM")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("練習作品，無商業用途")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("圖片來源： https://www.google.com/")])],1)])]),e("div",{staticClass:"car",on:{click:t.openCar}},[e("p",[t._v(t._s(t.cart_lenght))])]),e("div",{staticClass:"modal fade pr-0",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[e("table",{staticClass:"table"},[t._m(3),t.cart.carts?e("tbody",t._l(t.cart.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.removeCartItem(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})]),t.cartRemove?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("td",{staticClass:"align-middle"},[t._v("\n                  "+t._s(a.product.title)+"\n                  "),a.coupon?e("div",{staticClass:"text-success"},[t._v("\n                    已套用優惠券\n                  ")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})):t._e(),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v(" 總計 ")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v(" 折扣價 ")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])]),e("div",{staticClass:"input-group mb-3 input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:" 請輸入優惠碼 "},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("\n                套用優惠碼\n              ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.goPay}},[t._v("\n            前往結帳\n          ")])])])])])],1)},Pt=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-4 mb-2"},[s("img",{attrs:{src:e("f28d"),alt:"Logo"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-4"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("營業時間：00：00－24：00")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司電話：09 - 12345678")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司店址：台灣 桃園市")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title mb-0 font-weight-bold"},[t._v("購物籃")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th"),e("th",[t._v(" 品名 ")]),e("th",[t._v(" 數量 ")]),e("th",[t._v(" 單價 ")])])}],Lt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark container px-0"},[s("router-link",{staticClass:"navbar-brand navbar-logo",attrs:{to:"/"}},[s("img",{attrs:{src:e("f28d"),alt:"Logo"}})]),s("button",{staticClass:"navbar-toggler mr-1 mt-3",class:{"active-burger-bar":t.togglerBar},attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:t.togglerBurgerBar}},[s("div",{staticClass:"burger-bar"}),s("div",{staticClass:"burger-bar"}),s("div",{staticClass:"burger-bar"})]),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[s("div",{staticClass:"navbar-nav ml-auto"},[s("a",{staticClass:"nav-item nav-link text-white pt-4 pb-2 h6 ml-3 font-weight-bold",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.login(a)}}},[t._v("管理者登入\n          "),s("span",{staticClass:"sr-only"},[t._v("(current)")])])])])],1)])},Nt=[],Et={name:"Navbar",data:function(){return{togglerBar:!1,cart:{},cart_lenght:0}},methods:{login:function(){var t=this;t.$router.push("/login")},togglerBurgerBar:function(){var t=this;t.togglerBar=!t.togglerBar},getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart"),a=this;this.$http.get(t).then(function(t){console.log(t),a.cart=t.data.data,a.cart_lenght=a.cart.carts.length})}},created:function(){this.getCart()}},Ot=Et,Mt=Object(_["a"])(Ot,Lt,Nt,!1,null,null,null);Mt.options.__file="CustomerNavbar.vue";var It=Mt.exports,At=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"carouselSize"},[e("h1",{staticClass:"text-center text-white font-weight-normal"},[t._v("熱門遊戲")]),e("carousel",{attrs:{autoplay:!0,nav:!1,loop:!0,items:1}},[e("img",{staticStyle:{width:"347px"},attrs:{src:"https://upload.cc/i1/2018/11/03/Spqdt8.png",alt:"2K19"}}),e("img",{staticStyle:{width:"347px"},attrs:{src:"https://upload.cc/i1/2018/11/03/zt9mFw.png",alt:"汪達與巨像"}}),e("img",{staticStyle:{width:"347px"},attrs:{src:"https://upload.cc/i1/2018/11/03/cej3uE.png",alt:"碧血狂殺2"}}),e("img",{staticStyle:{width:"347px"},attrs:{src:"https://upload.cc/i1/2018/11/03/r3XwqH.png",alt:"戰神"}}),e("img",{staticStyle:{width:"347px"},attrs:{src:"https://upload.cc/i1/2018/11/03/H1Bkxl.png",alt:"魔物獵人"}}),e("img",{staticStyle:{width:"347px"},attrs:{src:"https://upload.cc/i1/2018/11/03/qNWUV0.png",alt:"驚奇蜘蛛俠"}})])],1)])},Bt=[],Tt=e("7ec7"),Dt=e.n(Tt),jt={data:function(){return{}},components:{carousel:Dt.a},methods:{getStart:function(){}},created:function(){this.getStart()}},St=jt,qt=Object(_["a"])(St,At,Bt,!1,null,null,null);qt.options.__file="CustomerCarousel.vue";var Rt=qt.exports,Ut={components:{CustomerNavbar:It,Alert:T,CustomerCarousel:Rt},data:function(){return{carStatu:!1,coupon_code:""}},methods:{getProducts:function(){this.$store.dispatch("getProducts")},getProduct:function(t){this.$store.dispatch("getProduct",t)},getCart:function(){this.$store.dispatch("getCart")},openCar:function(){G()("#productModal").modal("show")},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{id:t,qty:a})},removeCartItem:function(t){this.$store.dispatch("removeCartItem",t)},addCouponCode:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/coupon"),a=this,e={code:a.coupon_code};a.$store.dispatch("updateLoading",!0),this.$http.post(t,{data:e}).then(function(t){console.log(t),a.$store.dispatch("updateLoading",!1),a.getCart()})},ProductData:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/product/").concat(t);this.$http.get(e).then(function(e){console.log(e),a.$router.push("/itemdata/".concat(t))})},goPay:function(){G()("#productModal").modal("hide"),this.$router.push("/orders_pay")}},computed:Object(vt["a"])({},Object(o["b"])(["isLoading","products","product","cart","cart_lenght","cartRemove","status"])),created:function(){this.getProducts(),this.getCart()}},Ft=Ut,Gt=Object(_["a"])(Ft,kt,Pt,!1,null,null,null);Gt.options.__file="Customer.vue";var Wt=Gt.exports,zt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(" 總計 ")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v(" 姓名 ")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v(" 收件人電話 ")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v(" 收件人地址 ")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v(" 付款狀態 ")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v(" 付款完成 ")]):e("span",[t._v(" 尚未付款 ")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v(" 確認付款去 ")])]):t._e()])])])},Vt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v(" 品名 ")]),e("th",[t._v(" 數量 ")]),e("th",[t._v(" 單價 ")])])}],Ht={data:function(){return{order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/order/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.get(a).then(function(a){t.order=a.data.order,console.log(a),t.$store.dispatch("updateLoading",!1)})},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/pay/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.post(a).then(function(a){console.log(a),a.data.success&&t.getOrder(),t.$store.dispatch("updateLoading",!1)})}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder(),console.log(this.orderId)}},Jt=Ht,Xt=Object(_["a"])(Jt,zt,Vt,!1,null,null,null);Xt.options.__file="OrdersCheck.vue";var Kt=Xt.exports,Qt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:" bg-dark"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("CustomerNavbar"),e("Alert"),e("CustomerCarousel"),e("main",{staticClass:"container",attrs:{role:"main"}},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb breadcrumb-style"},[e("li",{staticClass:"breadcrumb-item font-weight-bold"},[e("router-link",{staticClass:"text-white",attrs:{to:"/"}},[t._v("\n            首頁\n          ")])],1),e("li",{staticClass:"breadcrumb-item font-weight-bold active text-lakeblue",attrs:{"aria-current":"page"}},[t._v("商品")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",class:{sortBtn_All:"all"==t.sortStatus},on:{click:function(a){t.sortStatus="all"}}},[t._v("\n              全部商品\n            ")])]),e("div",{staticClass:"col-3 col-md-12 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",class:{sortBtn_Super:"超強大作"==t.sortStatus},on:{click:function(a){t.sortStatus="超強大作"}}},[t._v("\n              超強大作\n            ")])]),e("div",{staticClass:"col-3 col-md-12 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",class:{sortBtn_Classic:"經典商品"==t.sortStatus},on:{click:function(a){t.sortStatus="經典商品"}}},[t._v("\n              經典商品\n            ")])]),e("div",{staticClass:"col-3 col-md-12 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",class:{sortBtn_Value:"超值組合"==t.sortStatus},on:{click:function(a){t.sortStatus="超值組合"}}},[t._v("\n              超值組合\n            ")])]),e("div",{staticClass:"col-3 col-md-12 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",class:{sortBtn_Host:"熱門主機"==t.sortStatus},on:{click:function(a){t.sortStatus="熱門主機"}}},[t._v("\n              熱門主機\n            ")])])])]),e("div",{staticClass:"col-md-10"},[e("div",{staticClass:"row"},t._l(t.filterArray,function(a){return e("div",{key:a.id,staticClass:"col-md-4 col-12 example-1 carItem mb-3"},[e("div",{staticClass:"wrapper",style:"background: url("+a.imageUrl+") center / cover no-repeat;"},[e("div",{staticClass:"date"},[e("span",{staticClass:"day"},[t._v(t._s(a.category))])]),e("div",{staticClass:"data"},[e("div",{staticClass:"content"},[e("h1",{staticClass:"title",on:{click:function(e){t.ProductData(a.id)}}},[t._v("\n                    "+t._s(a.title)+"\n                  ")]),e("p",{staticClass:"text"},[t._v("\n                    "+t._s(a.content)+"\n                  ")]),e("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(e){t.ProductData(a.id)}}},[t._v("\n                    查看更多\n                  ")]),0!==a.num?e("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(e){t.addtoCart(a.id)}}},[t.status.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                      加到購物車\n                  ")]):t._e()])])])])}))])])]),e("hr",{staticClass:"stars"}),e("footer",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(0),t._m(1),e("div",{staticClass:"col-md-4 mb-3"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("作者：EastM")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("練習作品，無商業用途")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("圖片來源： https://www.google.com/")]),e("p")],1)])]),e("div",{staticClass:"car",on:{click:t.openCar}},[e("p",[t._v(t._s(t.cart_lenght))])]),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[e("table",{staticClass:"table"},[t._m(3),t.cart.carts?e("tbody",t._l(t.cart.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.removeCartItem(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})]),t.cartRemove?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("td",{staticClass:"align-middle"},[t._v("\n                  "+t._s(a.product.title)+"\n                  "),a.coupon?e("div",{staticClass:"text-success"},[t._v("\n                    已套用優惠券\n                  ")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})):t._e(),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v(" 總計 ")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v(" 折扣價 ")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])]),e("div",{staticClass:"input-group mb-3 input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:" 請輸入優惠碼 "},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("\n                套用優惠碼\n              ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.goPay}},[t._v("\n            前往結帳\n          ")])])])])])],1)},Yt=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-4 mb-2"},[s("img",{attrs:{src:e("f28d"),alt:"Logo"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-4"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("營業時間：00：00－24：00")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司電話：09 - 12345678")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司店址：台灣 桃園市")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title mb-0 font-weight-bold"},[t._v("購物籃")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th"),e("th",[t._v(" 品名 ")]),e("th",[t._v(" 數量 ")]),e("th",[t._v(" 單價 ")])])}],Zt={components:{CustomerNavbar:It,Alert:T,CustomerCarousel:Rt},data:function(){return{sortStatus:"all",products:[],status:{loadingItem:""},cart:{},cart_lenght:0,carStatu:!1,coupon_code:"",cartRemove:!1}},methods:{getProducts:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/products/all"),a=this;a.$store.dispatch("updateLoading",!0),this.$http.get(t).then(function(t){console.log(t),a.$store.dispatch("updateLoading",!1),a.products=t.data.products})},addtoCart:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart"),o=this,i={product_id:t,qty:e};o.status.loadingItem=t,this.$http.post(s,{data:i}).then(function(t){console.log(t),o.status.loadingItem="",o.getCart(),G()("#productModal").modal("hide"),a.$bus.$emit("messsage:push","加入到購物車囉！","lakeblue")})},getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart"),a=this;a.$store.dispatch("updateLoading",!0),this.$http.get(t).then(function(t){console.log(t),a.$store.dispatch("updateLoading",!1),a.cart=t.data.data,a.cart_lenght=a.cart.carts.length})},openCar:function(){G()("#productModal").modal("show")},removeCartItem:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart/").concat(t),e=this;e.cartRemove=!0,this.$http.delete(a).then(function(t){console.log(t),e.cartRemove=!1,e.getCart()})},addCouponCode:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/coupon"),a=this,e={code:a.coupon_code};a.$store.dispatch("updateLoading",!0),this.$http.post(t,{data:e}).then(function(t){console.log(t),a.$store.dispatch("updateLoading",!1),a.getCart()})},ProductData:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/product/").concat(t);this.$http.get(e).then(function(e){console.log(e),a.$router.push("/itemdata/".concat(t))})},goPay:function(){G()("#productModal").modal("hide"),this.$router.push("/orders_pay")}},computed:{filterArray:function(){var t=this;switch(t.sortStatus){case"all":return t.products;case"超強大作":return t.products.filter(function(t){return"超強大作"===t.category});case"經典商品":return t.products.filter(function(t){return"經典商品"===t.category});case"超值組合":return t.products.filter(function(t){return"超值組合"===t.category});case"熱門主機":return t.products.filter(function(t){return"熱門主機"===t.category});default:break}return 1},isLoading:function(){return this.$store.state.isLoading}},created:function(){this.getCart(),this.getProducts()}},ta=Zt,aa=Object(_["a"])(ta,Qt,Yt,!1,null,null,null);aa.options.__file="Categories.vue";var ea=aa.exports,sa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:" bg-dark"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("CustomerNavbar"),e("Alert"),e("div",{staticClass:"container"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb breadcrumb-style"},[e("li",{staticClass:"breadcrumb-item font-weight-bold"},[e("router-link",{staticClass:"text-white",attrs:{to:"/"}},[t._v("\n            首頁\n          ")])],1),e("li",{staticClass:"breadcrumb-item font-weight-bold active text-lakeblue",attrs:{"aria-current":"page"}},[e("router-link",{staticClass:"text-white",attrs:{to:"/categories"}},[t._v("\n            商品\n          ")])],1),e("li",{staticClass:"breadcrumb-item font-weight-bold active text-lakeblue",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),e("main",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"itemCard"},[e("img",{staticClass:"itemImg",attrs:{src:t.product.imageUrl,alt:t.product.title}}),e("p",{staticClass:"h5 mt-3 text-warning font-weight-bold px-3 pb-2\n            border-bottom border-sort"},[t._v("\n              商品介紹\n            ")]),e("p",{staticClass:"px-3 text-white"},[t._v(t._s(t.product.content))]),e("p",{staticClass:"h5 mt-3 text-warning font-weight-bold px-3 pb-2\n            border-bottom border-sort"},[t._v("\n              運費方式\n            ")]),e("p",{staticClass:"px-3 text-white"},[t._v("無")])])]),e("div",{staticClass:"col-md-8 px-4"},[e("div",{staticClass:"itemCard"},[e("h1",{staticClass:"text-lightTitle"},[t._v(t._s(t.product.title))]),"0"!==t.product.origin_price?e("p",{staticClass:"h6 mt-3 text-white-gray"},[t._v("\n              原價 NT$"+t._s(t.product.origin_price)+"\n            ")]):t._e(),"0"!==t.product.price?e("p",{staticClass:"h4 text-lakeblue"},[t._v("\n              特價 NT$"+t._s(t.product.price)+"\n            ")]):t._e(),e("select",{directives:[{name:"model",rawName:"v-model",value:t.productNum,expression:"productNum"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.productNum=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("--- 請選擇數量 ---")]),t._l(10,function(a){return e("option",{key:a,domProps:{value:a}},[t._v("\n              選購 "+t._s(a)+" "+t._s(t.product.unit)+"\n            ")])})],2),e("button",{staticClass:"mt-3 btn-block btn btn-primary",attrs:{type:"button"},on:{click:function(a){t.addtoCart(t.product.id,t.productNum)}}},[t.product.id===t.status.loadingItem?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n              小計 NT$ "+t._s(t.productNum*t.product.price)+" 元 / 加到購物車\n            ")]),e("p",{staticClass:"h5 mt-3 text-warning font-weight-bold pb-2\n            border-bottom border-sort"},[t._v("\n              注意事項\n            ")]),e("p",{staticClass:"text-white"},[t._v("無")])])])])])]),e("hr",{staticClass:"stars"}),e("footer",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(0),t._m(1),e("div",{staticClass:"col-md-4 mb-3"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("作者：EastM")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("練習作品，無商業用途")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("圖片來源： https://www.google.com/")])],1)])]),e("div",{staticClass:"car",on:{click:t.openCar}},[e("p",[t._v(t._s(t.cart_lenght))])]),e("div",{staticClass:"modal fade pr-0",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body"},[e("table",{staticClass:"table"},[t._m(3),t.cart.carts?e("tbody",t._l(t.cart.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.removeCartItem(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})]),t.cartRemove?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("td",{staticClass:"align-middle"},[t._v("\n                  "+t._s(a.product.title)+"\n                  "),a.coupon?e("div",{staticClass:"text-success"},[t._v("\n                    已套用優惠券\n                  ")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})):t._e(),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v(" 總計 ")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.cart.total))])]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v(" 折扣價 ")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t.cart.final_total))])]):t._e()])]),e("div",{staticClass:"input-group mb-3 input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:" 請輸入優惠碼 "},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("\n                套用優惠碼\n              ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.goPay}},[t._v("\n            前往結帳\n          ")])])])])])],1)},oa=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-4 mb-2"},[s("img",{attrs:{src:e("f28d"),alt:"Logo"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-4"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("營業時間：00：00－24：00")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司電話：09 - 12345678")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司店址：台灣 桃園市")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title mb-0 font-weight-bold"},[t._v("購物籃")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th"),e("th",[t._v(" 品名 ")]),e("th",[t._v(" 數量 ")]),e("th",[t._v(" 單價 ")])])}],ia={components:{CustomerNavbar:It,Alert:T},data:function(){return{product:{},productId:"",productNum:"1",status:{loadingItem:""},cart:{},cart_lenght:0,carStatu:!1,coupon_code:"",cartRemove:!1}},methods:{getOrder:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/product/").concat(t),e=this;e.$store.dispatch("updateLoading",!0),this.$http.get(a).then(function(t){console.log(t),e.$store.dispatch("updateLoading",!1),e.product=t.data.product})},getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart"),a=this;this.$http.get(t).then(function(t){console.log(t),a.cart=t.data.data,a.cart_lenght=a.cart.carts.length})},openCar:function(){G()("#productModal").modal("show")},removeCartItem:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart/").concat(t),e=this;e.cartRemove=!0,this.$http.delete(a).then(function(t){console.log(t),e.cartRemove=!1,e.getCart()})},addCouponCode:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/coupon"),a=this,e={code:a.coupon_code};a.$store.dispatch("updateLoading",!0),this.$http.post(t,{data:e}).then(function(t){console.log(t),a.$store.dispatch("updateLoading",!1),a.getCart()})},addtoCart:function(t,a){var e=this;if(""!==a){var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart"),o=this,i={product_id:t,qty:a};o.status.loadingItem=t,this.$http.post(s,{data:i}).then(function(t){console.log(t),o.status.loadingItem="",o.getCart(),e.$bus.$emit("messsage:push","加入到購物車囉！","lakeblue")})}else this.$bus.$emit("messsage:push","數量不正確！","danger")},goPay:function(){G()("#productModal").modal("hide"),this.$router.push("/orders_pay")}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.productId=this.$route.params.productId,console.log(this.productId),this.getOrder(this.productId),this.getCart()}},ra=ia,na=Object(_["a"])(ra,sa,oa,!1,null,null,null);na.options.__file="Itemdata.vue";var ca=na.exports,la=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:" bg-dark"},[e("CustomerNavbar"),e("Alert"),e("div",{staticClass:"container"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("")}}},[t._v("\n            首頁\n          ")])]),e("div",{staticClass:"col-3 col-md-3 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("categories")}}},[t._v("\n            超強大作\n          ")])]),e("div",{staticClass:"col-3 col-md-3 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("categories")}}},[t._v("\n            經典商品\n          ")])]),e("div",{staticClass:"col-3 col-md-3 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("categories")}}},[t._v("\n            超值組合\n          ")])]),e("div",{staticClass:"col-3 col-md-3 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("categories")}}},[t._v("\n            熱門主機\n          ")])])])])]),t._m(0),e("main",{staticClass:"container"},[e("table",{staticClass:"table bg-white text-dark payTable"},[t._m(1),t.cart.carts?e("tbody",t._l(t.cart.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.removeCartItem(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})]),t.cartRemove?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("td",{staticClass:"align-middle"},[t._v("\n            "+t._s(a.product.title)+"\n            "),a.coupon?e("div",{staticClass:"text-success"},[t._v("\n              已套用優惠券\n            ")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})):t._e(),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v(" 總計 ")]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v(" 折扣價 ")]),e("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e()])]),e("div",{staticClass:"input-group mb-3 input-group-sm payCoupon"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:" 請輸入優惠碼，試試看 111 ?"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("\n          套用優惠碼\n        ")])])]),t._m(2),e("div",{staticClass:"my-3 row justify-content-center"},[e("form",{staticClass:"col-md-12",on:{submit:function(a){return a.preventDefault(),t.createOrder(a)}}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"text-lightTitle font-weight-bold",attrs:{for:"useremail"}},[t._v("Email")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:" 請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t.errors.has("email")?e("span",{staticClass:"text-danger font-weight-bold"},[t._v("\n            "+t._s(t.errors.first("email"))+"\n          ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"text-lightTitle font-weight-bold",attrs:{for:"username"}},[t._v(" 收件人姓名 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:" 輸入姓名 "},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t.errors.has("name")?e("span",{staticClass:"text-danger font-weight-bold"},[t._v(" 姓名必須輸入 ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"text-lightTitle font-weight-bold",attrs:{for:"usertel"}},[t._v(" 收件人電話 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",name:"tel",placeholder:" 請輸入電話號碼 "},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),t.errors.has("tel")?e("span",{staticClass:"text-danger font-weight-bold"},[t._v(" 電話號碼不得留空 ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"text-lightTitle font-weight-bold",attrs:{for:"useraddress"}},[t._v(" 收件人地址 ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:" 請輸入地址 "},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t.errors.has("address")?e("span",{staticClass:"text-danger font-weight-bold"},[t._v(" 地址欄位不得留空 ")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"text-lightTitle font-weight-bold",attrs:{for:"usertextarea"}},[t._v(" 留言 ")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"usertextarea",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),t._m(3)])])]),e("hr",{staticClass:"stars"}),e("footer",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(4),t._m(5),e("div",{staticClass:"col-md-4 mb-3"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("作者：EastM")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("練習作品，無商業用途")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("圖片來源： https://www.google.com/")]),e("p")],1)])])],1)},da=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container d-flex justify-content-center align-items-center mb-3"},[e("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:"https://upload.cc/i1/2018/11/04/Inh3gr.png",alt:"購物籃"}}),e("h1",{staticClass:"d-inline-block mb-0 text-white pl-3"},[t._v("購物籃")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th"),e("th",[t._v(" 品名 ")]),e("th",[t._v(" 數量 ")]),e("th",[t._v(" 單價 ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-flex justify-content-center align-items-center mt-3"},[e("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:"https://upload.cc/i1/2018/11/06/7XRo1P.png",alt:"電玩搖桿Logo"}}),e("h2",{staticClass:"d-inline-block mb-0 text-white h1 pl-4"},[t._v("訂單資訊")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-warning font-weight-bold btn-block paySubmit"},[t._v(" 送出訂單 ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-4 mb-2"},[s("img",{attrs:{src:e("f28d"),alt:"Logo"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-4"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("營業時間：00：00－24：00")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司電話：09 - 12345678")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司店址：台灣 桃園市")])])}],ua={components:{CustomerNavbar:It,Alert:T},data:function(){return{status:{loadingItem:""},cart:{},cart_lenght:0,carStatu:!1,coupon_code:"",cartRemove:!1,form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCart:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart"),a=this;a.$store.dispatch("updateLoading",!0),this.$http.get(t).then(function(t){console.log(t),a.$store.dispatch("updateLoading",!1),a.cart=t.data.data,a.cart_lenght=a.cart.carts.length})},addCouponCode:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/coupon"),a=this,e={code:a.coupon_code};a.$store.dispatch("updateLoading",!0),this.$http.post(t,{data:e}).then(function(t){console.log(t),a.$store.dispatch("updateLoading",!1),a.getCart()})},removeCartItem:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart/").concat(t),e=this;e.$store.dispatch("updateLoading",!0),e.cartRemove=!0,this.$http.delete(a).then(function(t){console.log(t),e.$store.dispatch("updateLoading",!1),e.cartRemove=!1,e.getCart()})},createOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/order"),e=this,s=e.form;this.$validator.validate().then(function(o){o?t.$http.post(a,{data:s}).then(function(t){console.log("已建立訂單",t),t.data.success&&e.$router.push("/pay_check/".concat(t.data.orderId)),e.$store.dispatch("updateLoading",!1)}):console.log("欄位不完整")})},goBack:function(t){this.$router.push("/".concat(t))}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.getCart()}},pa=ua,ma=Object(_["a"])(pa,la,da,!1,null,null,null);ma.options.__file="OrdersPay.vue";var va=ma.exports,ha=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:" bg-dark"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("CustomerNavbar"),e("Alert"),e("div",{staticClass:"container"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("")}}},[t._v("\n            首頁\n          ")])]),e("div",{staticClass:"col-3 col-md-3 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("categories")}}},[t._v("\n            超強大作\n          ")])]),e("div",{staticClass:"col-3 col-md-3 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("categories")}}},[t._v("\n            經典商品\n          ")])]),e("div",{staticClass:"col-3 col-md-3 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("categories")}}},[t._v("\n            超值組合\n          ")])]),e("div",{staticClass:"col-3 col-md-3 text-center mb-2 sortList"},[e("div",{staticClass:"sortBtn font-weight-bold",on:{click:function(a){t.goBack("categories")}}},[t._v("\n            熱門主機\n          ")])])])])]),e("main",{staticClass:"container pb-4"},[e("h1",{staticClass:"text-center text-white"},[t._v("確認訂單")]),t.order.is_paid?e("p",{staticClass:"text-center text-lightTitle h1 font-weight-bold"},[t._v(" 感謝你的瀏覽體驗 ")]):t._e(),t.order.is_paid?e("p",{staticClass:"text-center text-lightTitle h1 font-weight-bold"},[t._v(" 上方按鈕可以繼續逛逛")]):t._e(),e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-md-6 bg-white pb-2 payCheck",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(" 總計 ")]),e("td",{staticClass:"text-right text-danger font-weight-bold"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{staticClass:"font-weight-bold payInfoTh",attrs:{width:"100"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",{staticClass:"font-weight-bold payInfoTh"},[t._v(" 姓名 ")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",{staticClass:"font-weight-bold payInfoTh"},[t._v(" 收件人電話 ")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",{staticClass:"font-weight-bold payInfoTh"},[t._v(" 收件人地址 ")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",{staticClass:"font-weight-bold payInfoTh"},[t._v(" 付款狀態 ")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v(" 付款完成 ")]):e("span",[t._v(" 尚未付款 ")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v(" 確認付款去 ")])]):t._e()])])]),e("hr",{staticClass:"stars"}),e("footer",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(1),t._m(2),e("div",{staticClass:"col-md-4 mb-3"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("作者：EastM")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("練習作品，無商業用途")]),e("P",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("圖片來源： https://www.google.com/")]),e("p")],1)])])],1)},ga=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v(" 品名 ")]),e("th",[t._v(" 數量 ")]),e("th",[t._v(" 單價 ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-4 mb-2"},[s("img",{attrs:{src:e("f28d"),alt:"Logo"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-4"},[e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("營業時間：00：00－24：00")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司電話：09 - 12345678")]),e("p",{staticClass:"text-white-gray font-weight-bold mb-0"},[t._v("公司店址：台灣 桃園市")])])}],fa={components:{CustomerNavbar:It,Alert:T},data:function(){return{order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/order/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.get(a).then(function(a){t.order=a.data.order,t.$store.dispatch("updateLoading",!1)})},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/pay/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.post(a).then(function(a){a.data.success&&t.getOrder(),t.$store.dispatch("updateLoading",!1)})},goBack:function(t){this.$router.push("/".concat(t))}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},_a=fa,Ca=Object(_["a"])(_a,ha,ga,!1,null,null,null);Ca.options.__file="PayCheck.vue";var ba=Ca.exports;s["a"].use(x["a"]);var xa=new x["a"]({routes:[{path:"*",redirect:"login"},{path:"/login",name:"Login",component:function(){return e.e("chunk-6e2b84de").then(e.bind(null,"a55b"))}},{path:"/admin",name:"Dashboard",component:q,children:[{path:"products",name:"Products",component:Z,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:ut,meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:it,meta:{requiresAuth:!0}},{path:"test_order",name:"TestOrder",component:_t},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:$t}]},{path:"/",name:"Customer",component:Wt,children:[{path:"orders_check/:orderId",name:"OrdersCheck",component:Kt}]},{path:"/categories",name:"Categories",component:ea},{path:"/itemdata/:productId",name:"Itemdata",component:ca},{path:"/orders_pay",name:"OrdersPay",component:va},{path:"/pay_check/:orderId",name:"PayCheck",component:ba}]});s["a"].prototype.$bus=new s["a"],s["a"].use(o["a"]);var ya=new o["a"].Store({strict:!0,state:{isLoading:!1,products:[],product:{},status:{loadingItem:""},cart:{carts:[]},cart_lenght:0,carStatu:!1,cartRemove:!1},actions:{updateLoading:function(t,a){t.commit("LOADING",a)},getProducts:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/products/all");t.commit("LOADING",!0),r.a.get(a).then(function(a){console.log(a),t.commit("LOADING",!1),t.commit("PRODUCTS",a.data.products)})},getProduct:function(t,a){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/product/").concat(a);t.commit("LOADINGITEM",a),r.a.get(e).then(function(a){G()("#productModal").modal("show"),t.commit("PRODUCT",a.data.product),console.log(a),t.commit("LOADINGITEM","")})},getCart:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart");r.a.get(a).then(function(a){console.log(a),t.commit("CART",a.data.data)})},removeCartItem:function(t,a){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart/").concat(a);t.commit("CARTREMOVE",!0),r.a.delete(e).then(function(a){console.log(a),t.commit("CARTREMOVE",!1),t.dispatch("getCart")})},addtoCart:function(t,a){var e=a.id,o=a.qty,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("foundproduct","/cart"),n={product_id:e,qty:o};t.commit("LOADINGITEM",e),r.a.post(i,{data:n}).then(function(a){console.log(a),t.commit("LOADINGITEM",""),t.dispatch("getCart"),G()("#productModal").modal("hide"),(new s["a"]).$bus.$emit("messsage:push","加入到購物車囉！","lakeblue")})}},mutations:{LOADING:function(t,a){t.isLoading=a},PRODUCTS:function(t,a){t.products=a},PRODUCT:function(t,a){t.product=a},LOADINGITEM:function(t,a){t.status.loadingItem=a},CART:function(t,a){t.cart=a,t.cart_lenght=t.cart.carts.length},CARTS:function(t,a){t.cart=a},CARTREMOVE:function(t,a){t.cartRemove=a}},getters:{isLoading:function(t){return t.isLoading},products:function(t){return t.products},product:function(t){return t.product},cart:function(t){return t.cart},cart_lenght:function(t){return t.cart_lenght},cartRemove:function(t){return t.cartRemove},status:function(t){return t.status}}}),wa=(e("a481"),e("c5f6"),function(t){var a=Number(t);return"$".concat(a.toFixed(0).replace(/./g,function(t,a,e){var s=a&&"."!==t&&(e.length-a)%3===0?", ".concat(t).replace(/\s/g,""):t;return s}))}),$a=function(t){var a=new Date(1e3*t);return a.toLocaleDateString()};r.a.defaults.withCredentials=!0,s["a"].config.productionTip=!1,s["a"].use(o["a"]),m["a"].localize("zh_TW",p.a),s["a"].use(m["b"],{locale:"zh_TW"}),s["a"].use(c.a,r.a),s["a"].component("Loading",d.a),s["a"].filter("currency",wa),s["a"].filter("date",$a),new s["a"]({router:xa,store:ya,render:function(t){return t(b)}}).$mount("#app"),xa.beforeEach(function(t,a,e){if(t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");r.a.post(s).then(function(t){t.data.success?e():e({path:"/login"})})}else e()})},"5c0b":function(t,a,e){"use strict";var s=e("5e27"),o=e.n(s);o.a},"5e27":function(t,a,e){},dfbe:function(t,a,e){},f28d:function(t,a,e){t.exports=e.p+"img/navbar_img.6ccad3a9.png"}});
//# sourceMappingURL=app.70100806.js.map